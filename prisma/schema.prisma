generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Build {
  id          String       @id @default(uuid())
  name        String
  author      String
  description String
  gods        String[]  // Array of gods as string[]
  tags        String[]  // Array of tags as string[]
  rating      Float
  build       BuildSteps[]
}

model BuildSteps {
  id               String    @id @default(uuid())
  buildId          String
  age              Age?
  description      String?
  isNote           Boolean?
  time             Int?    // Time in seconds
  workingBuilding  Int?    // Number of workers assigned to building
  workingFood      Int?   // Number of workers assigned to food gathering
  workingWood      Int?    // Number of workers assigned to wood gathering
  workingGold      Int?    // Number of workers assigned to gold gathering
  workingFavor     Int?    // Number of workers assigned to favor gathering
  
  Build            Build  @relation(fields: [buildId], references: [id])
}

enum Age {
  i
  ii
  iii
  iv
  v
}